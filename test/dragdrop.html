<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Draggable &amp; Dropable Sample</title>
    <style type="text/css" rel="stylesheet">
      html, body{
        height: 100%;
        overflow: hidden;
        -webkit-user-select: none;
      }
      ul.list{
        list-style: none;
      }
      ul.list li{
        display: inline;
        border: 1px solid black;
      }
      .playground{
        position: relative;
        top: 30px;
        width: 100%;
        height: 200px;
        background: #E2E2E2;
      }
    </style>
  </head>
  <body>
    <ul class="list">
      <li>AAAAAA</li>
      <li>BBBBBB</li>
      <li>CCCCCC</li>
    </ul>
    <input id="clear" value="Clear" type="button">
    <div class="playground"></div>
    <script src="../../base/jquery-1.7.2.min.js"></script>
    <script src="../gesture.js"></script>
    <script src="../dragdrop.js"></script>
    <script defer>
      $(function(){
        var $lis = $('.list li');
        var $pg = $('.playground');
        
        g($lis).draggable(function(e){
          e.dataTransfer.effectAllowed = 'copy'; // only dropEffect='copy' will be dropable
          e.dataTransfer.setData('Text', this.id); // required otherwise doesn't work
          console.log('dragstart');
        }, function(e){
          console.log('drag');
        }, function(e){
          console.log('dragend');
        });
        
        g($pg).dropable(function(e){
          console.log('dragenter');
        }, function(e){
          e.preventDefault();
          e.dataTransfer.dropEffect = 'copy';
          console.log('dragover');
        }, function(e){
          console.log('dragleave');
        }, function(e){
          if (e.stopPropagation) e.stopPropagation();
          console.log('drop');
        });

        document.getElementById('clear').addEventListener('click', function(){
          $pg.html('');
        }, false);
        
        //if(navigator.userAgent.indexOf('Android') > -1){
          //console = console || {};
          console.log = function(){
            $pg.append(' ' + Array.prototype.splice.call(arguments, 0).join(', '));
          }
        //}
      });
    </script>
  </body>
</html>